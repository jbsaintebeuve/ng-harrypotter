<div class="w-5/6 mx-auto flex gap-10">
  <div class="w-1/3" id="card-container">
    <div
      class="card-wrapper"
      (click)="onCardClick($event)"
      (mousemove)="onMouseMove($event)"
      (mouseleave)="onMouseLeave()"
    >
      <div class="card-inner" [class.is-flipped]="isFlipped">
        <div class="card-face card-front">
          <img
            id="card"
            src="{{ pokemon?.images?.large }}"
            alt="{{ pokemon?.name }}"
          />
        </div>
        <div class="card-face card-back">
          <img src="assets/card-back.png" alt="Card Back" />
        </div>
      </div>
    </div>
  </div>
  <div class="w-2/3">
    <h1 class="font-bold text-4xl text-neutral-700">{{ pokemon?.name }}</h1>
    <div class="flex flex-col gap-2 items-start mt-5">
      <div class="flex justify-between items-center w-full">
        <p class="font-semibold text-neutral-900">Numéro</p>
        <p>
          #{{
            (pokemon?.nationalPokedexNumbers)![0]
              ? (pokemon?.nationalPokedexNumbers)![0]
              : 'undefined'
          }}
        </p>
      </div>
      <p>Rareté: {{ pokemon?.rarity ? pokemon?.rarity : 'undefined' }}</p>
      <p>Type: {{ pokemon?.types ? pokemon?.types : 'undefined' }}</p>
      <p>HP: {{ pokemon?.hp ? pokemon?.hp : 'undefined' }}</p>
      @for (attack of pokemon?.attacks; track $index) {
      <p>Attaque: {{ attack.name }}</p>
      <p>Dégâts: {{ attack.damage }}</p>
      <p>Coût: {{ attack.convertedEnergyCost }}</p>
      <p>Texte: {{ attack.text }}</p>
      }
      <p>
        Prix moyen:
        {{
          pokemon?.tcgplayer?.prices?.holofoil?.market
            | currency : 'EUR' : 'symbol' : '1.2-2' : 'fr'
        }}
      </p>
      <app-quantity-selector
        [quantity]="quantity"
        (quantityChange)="onChangeQuantity($event)"
      ></app-quantity-selector>
      <button
        class="bg-neutral-800 text-white px-4 py-3 mt-2 w-full text-sm rounded-md font-semibold text-center hover:cursor-pointer hover:bg-neutral-900"
        (click)="addToCart()"
      >
        Ajouter au panier
      </button>
    </div>
  </div>
</div>
